<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>GRASS GIS manual: m.swim.hydrotopes</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="grassdocs.css" type="text/css">
</head>
<body bgcolor="white">

<img src="grass_logo.png" alt="GRASS logo"><hr align=center size=6 noshade>

<h2>NAME</h2>
<em><b>m.swim.hydrotopes</b></em>  - Soil and Water Integrated Model (SWIM) preprocessor: hydrotopes
<h2>KEYWORDS</h2>
<h2>SYNOPSIS</h2>
<div id="name"><b>m.swim.hydrotopes</b><br></div>
<b>m.swim.hydrotopes help</b><br>
<div id="synopsis"><b>m.swim.hydrotopes</b> [-<b>ck</b>] <b>subbasins</b>=<em>name</em> <b>landuse</b>=<em>name</em> <b>soil</b>=<em>name</em> <b>strfilepath</b>=<em>path</em> <b>hydrotopes</b>=<em>name</em>  [<b>contours</b>=<em>ints or list of ints</em>]   [<b>contourrast</b>=<em>existing rast of elevation contours or to be created</em>]   [<b>elevation</b>=<em>name</em>]   [<b>more</b>=<em>name</em>[,<i>name</i>,...]]   [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>] 
</div>

<div id="flags">
<h3>Flags:</h3>
<dl>
<dt><b>-c</b></dt>
<dd>include contours, either create if contours given or use contourrast</dd>

<dt><b>-k</b></dt>
<dd>Keep intermediat files (include __ in names)</dd>

<dt><b>--help</b></dt>
<dd>Print usage summary</dd>
<dt><b>--verbose</b></dt>
<dd>Verbose module output</dd>
<dt><b>--quiet</b></dt>
<dd>Quiet module output</dd>
</dl>
</div>

<div id="parameters">
<h3>Parameters:</h3>
<dl>
<dt><b>subbasins</b>=<em>name</em>&nbsp;<b>[required]</b></dt>
<dd>Subbasin raster map</dd>

<dt><b>landuse</b>=<em>name</em>&nbsp;<b>[required]</b></dt>
<dd>Land use raster map in SWIM land use classification</dd>

<dt><b>soil</b>=<em>name</em>&nbsp;<b>[required]</b></dt>
<dd>Soil raster map classified to SWIM soil files</dd>

<dt><b>strfilepath</b>=<em>path</em>&nbsp;<b>[required]</b></dt>
<dd>Path where structure file will be written</dd>

<dt><b>hydrotopes</b>=<em>name</em>&nbsp;<b>[required]</b></dt>
<dd>Name of hydrotope raster to be created</dd>
<dd>Default: <em>hydrotopes</em></dd>

<dt><b>contours</b>=<em>ints or list of ints</em></dt>
<dd>Elevation contours to include in hydrotopes [optional, if set, DEM in Subbasins also needs to be set]</dd>

<dt><b>contourrast</b>=<em>existing rast of elevation contours or to be created</em></dt>
<dd>Elevation contours to include in hydrotopes [optional, if set, DEM in Subbasins also needs to be set]</dd>
<dd>Default: <em>contours</em></dd>

<dt><b>elevation</b>=<em>name</em></dt>
<dd>Elevation raster</dd>

<dt><b>more</b>=<em>name[,<i>name</i>,...]</em></dt>
<dd>More rasters maps included in hydrotopes [optional]</dd>

</dl>
</div>
</body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>




<meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>m.swim.hydrotopes</title></head><body>
<h2>DESCRIPTION<span style="font-style: italic;"></span></h2>The <span style="font-weight: bold;">m.swim.hydrotopes</span> module computes the hydrotopes (or Hydrological Response Units/HRU) and writes this information to the SWIM structure file.<br>
<h3>Structure file (.str)</h3>
The full path to the structure file should be given to the <span style="font-weight: bold;">strfilepath</span>.
As the different versions of SWIM require different columns in the .str
file, the output file may have to be adapted to each project. The
standard columns are:<br>
<br>
<em>subbasinID&nbsp; landuseID&nbsp; soilID&nbsp; [elevation]&nbsp; [more,more,...]&nbsp; area&nbsp; cells</em><br>
...<br>
0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0<br>
<br>
The <span style="font-weight: bold;">elevation</span> is only included if any of the contours options are set (see below) and the more column(s) are those raster maps set in the <span style="font-weight: bold;">more</span> argument. The last line of the .str file is filled with nills.<br>

<br>
<h3>Contours</h3>Elevation contours can be calculated if needed by setting the <span style="font-weight: bold;">-c</span> flag and giving the elevation argument and setting either the <span style="font-weight: bold;">contours</span> argument with elevation breaks (e.g. <span style="font-family: Courier New,Courier,monospace;">contours=100,300,500,...</span>) or intervals (e.g. <span style="font-family: Courier New,Courier,monospace;">contours=100</span>) or by setting the raster map to the <span style="font-weight: bold;">countourrast</span> argument. The <span style="font-weight: bold;">contours</span> argument takes precedence over the <span style="font-weight: bold;">contourrast</span> argument and the <span style="font-weight: bold;">contourrast</span>
argument becomes the output argument for the resultant contours raster.
When recalculating the hydrotopes, the execution time can be reduced by
leaving out the <span style="font-weight: bold;">contours</span> argument, i.e. picking up the contours raster that has already been created.<br>




<em></em>
<h2>NOTES</h2>All input maps should be interger rasters (CELL rasters), i.e.<span style="font-family: Courier New,Courier,monospace;"> r.stats &lt;raster&gt;</span> should give discrete values, not value ranges.<br>

Although
this module has been tested, it is still in beta mode and hasn't been
extensively error coded. Please report unexplained errors to the author
(see below).<br>
<h2>EXAMPLE</h2>
Setting up a SWIM project in the North Carolina (basic) testing location:<br>
<br>
Create a new mapset and set region:
<pre>g.mapset -c mapset=subbasins<br>g.region rast=elevation@PERMANENT<br></pre>
<h3>Stations</h3>
Create a stations point vector map:<br>
<pre>echo "x|y|name|subbsize<br>640579|215607|outlet|0.1<br>640388|216617|headwater|0.05" &gt; stations.dat<br>v.in.ascii input=stations.dat out=stations x=1 y=2 columns='x int, y int, name varchar(20), subbsize double' skip=1<br></pre>
<h3>Subbasins</h3>
Make subbasins (default output arguments):
<pre>m.swim.subbasins elevation=elevation@PERMANENT stations=stations upthresh=0.1 subbasins=subbasins</pre>
<br>
In
addition to the subbasins vector and raster map, this also produces
catchment raster and vector maps, accumulation, drainage, streams,
slopesteepness and slopelength rasters (as needed by the subsequent
m.swim.* modules) by default.<br>
<h3>Hydrotopes</h3>
Calculate hydrotopes with the subbasins, landuse and soil raster maps:<br>
<pre>m.swim.hydrotopes subbasins=subbasins landuse=landuse@PERMANENT soil=soils@PERMANENT strfilepath=mypro.str hydrotopes=hydrotopes</pre>
Alternatively, contours (either as interval or list of breaks through
the <span style="font-weight: bold;">controus</span> argument; or as a raster map through the 


<span style="font-weight: bold;">contourrast</span>
argument) and <span style="font-weight: bold;">more</span> maps can be used to further subdevide the hydrotopes:<br>
<pre>m.swim.hydrotopes subbasins=subbasins landuse=landuse@PERMANENT soil=soils@PERMANENT -c contours=50 \<br>                 &nbsp;elevation=elevation@PERMANENT more=geology@PERMANENT strfilepath=mypro.str</pre>

This implicitly creates a raster called contours and one called hydrotopes (as default names given for the <span style="font-weight: bold;">hydrotopes</span> and <span style="font-weight: bold;">contourrast</span> arguments).<br>
<em></em>
<h2>SEE ALSO</h2>


<a href="m.swim.subbasins.html">m.swim.subbasins</a>, 
<a href="r.watershed.html">r.watershed</a>, <a href="m.swim.substats.html">m.swim.substats</a>, <a href="m.swim.routing.html">m.swim.routing</a><a href="m.swim.routing.html"><br>
</a> 

<h2>AUTHORS</h2>
Michel Wortmann, Potsdam Institute for Climate Impact Research (wortmann@pik-potsdam.de)<br>
 
<p><i>Last changed: $Date: 2013-07-31 10:45:15 -0700 (Wed, 31 Jul 2013) $</i>

</p>

  

</body></html>